# config.py
import os
from dotenv import load_dotenv

# Загрузка переменных окружения (для локальной разработки)
load_dotenv()

# ==================== TELEGRAM ====================
TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN", "8097523464:AAHoovPAanUbRwJR0wNXUdjcwPBoRvvnTKQ")
TELEGRAM_CHAT_ID = os.getenv("TELEGRAM_CHAT_ID", "-1002752798613")

# Администраторы (список ID пользователей, которые могут запускать парсер)
# Добавь свой личный ID, чтобы тестировать бота
ADMIN_IDS = [
    int(os.getenv("ADMIN_ID", "123456789")),  # Замени на свой ID
]

# ==================== DATABASE (PostgreSQL) ====================
# Данные для подключения берутся из переменных окружения BotHost
DB_CONFIG = {
    "host": os.getenv("PGHOST", "localhost"),
    "port": os.getenv("PGPORT", "5432"),
    "database": os.getenv("PGDATABASE", "mgtu_grants_db"),
    "user": os.getenv("PGUSER", "postgres"),
    "password": os.getenv("PGPASSWORD", ""),
}

# ==================== ПАРАМЕТРЫ ФИЛЬТРАЦИИ ====================
MIN_ANNUAL_AMOUNT = 5_000_000  # Мин. 5 млн руб. в год
MIN_DEADLINE_DAYS = 14         # Мин. 14 дней на подготовку

# ==================== ПУТИ К ФАЙЛАМ ====================
# Для отчетов, которые будем отправлять пользователю
BASE_DIR = os.path.dirname(os.path.abspath(__file__))
REPORTS_DIR = os.path.join(BASE_DIR, "reports")

# Создаем папку для отчетов, если нет
os.makedirs(REPORTS_DIR, exist_ok=True)

CSV_REPORT_FILE = os.path.join(REPORTS_DIR, "гранты_МГТУ.csv")
HTML_REPORT_FILE = os.path.join(REPORTS_DIR, "гранты_МГТУ_отчет.html")

# ==================== НАПРАВЛЕНИЯ МГТУ (Стратегия 2030) ====================
MGTU_DIRECTIONS = [
    "Электромеханические беспилотные автомобили большой грузоподъемности",
    "Сверхпроизводительные вычисления и аналитика больших данных",
    "Персонализированная медицина и здоровьесбережение",
    "Биомедицинские исследования",
    "Химические технологии и лабораторные исследования",
    "Материалы и нанотехнологии",
    "Машиностроительные технологии и перспективные материалы",
    "Космическая техника и системы",
    "Оборонные технологии и системы",
    "Цифровые платформы и ИИ-сервисы",
    "Интеллектуальные производственные и транспортные системы",
    "Технологии энергомашиностроения",
    "Новые технологии транспорта и связи",
    "Венчурное финансирование НИОКР"
]

# ==================== ЛОГИРОВАНИЕ ====================
LOG_LEVEL = os.getenv("LOG_LEVEL", "INFO")  # INFO, DEBUG, WARNING, ERROR